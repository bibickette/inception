events{
    worker_connections 1024;
}

# Bloc HTTP (tout ce qui concerne le trafic web)
http{

    ## Redirection de HTTP vers HTTPS
    server {
        # 80 est le port ğŸŒ Port 80 â†’ HTTP (non sÃ©curisÃ©)
        # Câ€™est le port par dÃ©faut si lâ€™utilisateur tape juste http://phwang.42.fr.
        # âš ï¸ Si tu veux que ton site rÃ©ponde Ã  http://phwang.42.fr ou http://localhost, tu dois Ã©couter sur le port 80.
        listen 80; 
        server_name localhost;

        return 301 https://$host$request_uri;
    }

    server {
        #ğŸ”’ Port 443 â†’ HTTPS (sÃ©curisÃ©)
        # Câ€™est le port utilisÃ© pour les connexions sÃ©curisÃ©es, avec certificat SSL.
        listen 443 ssl;
        server_name localhost;
        index index.html;

        ssl_certificate /etc/ssl/certs/nginx-selfsigned.crt;
        ssl_certificate_key /etc/ssl/private/nginx-selfsigned.key;

        ssl_protocols TLSv1.2 TLSv1.3;
        ssl_ciphers HIGH:!aNULL:!MD5;
    }
}